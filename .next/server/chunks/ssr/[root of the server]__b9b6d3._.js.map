{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PHP/Wamp64/www/tulsiram_work/DWN/more/lara-react/my-frontend/src/app/utils/axios.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: 'http://localhost:8000/api',\r\n    withCredentials: true,\r\n});\r\n\r\nexport default axiosInstance;\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,gBAAgB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC/B,SAAS;IACT,iBAAiB;AACrB;uCAEe"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PHP/Wamp64/www/tulsiram_work/DWN/more/lara-react/my-frontend/src/app/hooks/useAuth.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport axios from '../utils/axios';\r\n\r\nexport default function useAuth() {\r\n    const [user, setUser] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async () => {\r\n            const token = localStorage.getItem('auth_token');\r\n            if (!token) return;\r\n\r\n            try {\r\n                const response = await axios.get('/user', {\r\n                    headers: { Authorization: `Bearer ${token}` },\r\n                });\r\n                setUser(response.data);\r\n            } catch {\r\n                localStorage.removeItem('auth_token');\r\n            }\r\n        };\r\n\r\n        fetchUser();\r\n    }, []);\r\n\r\n    return user;\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEe,SAAS;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,YAAY;YACd,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,CAAC,OAAO;YAEZ,IAAI;gBACA,MAAM,WAAW,MAAM,4HAAA,CAAA,UAAK,CAAC,GAAG,CAAC,SAAS;oBACtC,SAAS;wBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;oBAAC;gBAChD;gBACA,QAAQ,SAAS,IAAI;YACzB,EAAE,OAAM;gBACJ,aAAa,UAAU,CAAC;YAC5B;QACJ;QAEA;IACJ,GAAG,EAAE;IAEL,OAAO;AACX"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PHP/Wamp64/www/tulsiram_work/DWN/more/lara-react/my-frontend/src/app/component/LogoutButton.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\"; // Import useRouter for redirecting\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nexport default function LogoutButton() {\r\n  const [isLoggingOut, setIsLoggingOut] = useState(false);\r\n  const router = useRouter();\r\n\r\n  // Logout function\r\n  const logout = () => {\r\n    // Set logging out state to true to disable button during logout process\r\n    setIsLoggingOut(true);\r\n\r\n    // Remove the token from localStorage\r\n    localStorage.removeItem(\"auth_token\");\r\n\r\n    // Optionally, clear any other user data (session, cookies, etc.)\r\n    // sessionStorage.removeItem(\"user_data\"); // Example if you're using sessionStorage\r\n\r\n    // Redirect user to the login or home page\r\n    router.push(\"/login\"); // Change to your login route or home page\r\n\r\n    setIsLoggingOut(false); // Reset logging out state if needed\r\n  };\r\n\r\n  return (\r\n    <div className=\"container pt-4\">\r\n      <div className=\"d-flex justify-content-end\">\r\n        {/* Button */}\r\n        <button\r\n          onClick={logout}\r\n          className=\"btn btn-danger\"\r\n          disabled={isLoggingOut} // Disable the button while logging out\r\n        >\r\n          {isLoggingOut ? \"Logging out...\" : \"Logout\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA,mOAA6C,mCAAmC;AAHhF;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,kBAAkB;IAClB,MAAM,SAAS;QACb,wEAAwE;QACxE,gBAAgB;QAEhB,qCAAqC;QACrC,aAAa,UAAU,CAAC;QAExB,iEAAiE;QACjE,oFAAoF;QAEpF,0CAA0C;QAC1C,OAAO,IAAI,CAAC,WAAW,0CAA0C;QAEjE,gBAAgB,QAAQ,oCAAoC;IAC9D;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBAEb,cAAA,8OAAC;gBACC,SAAS;gBACT,WAAU;gBACV,UAAU;0BAET,eAAe,mBAAmB;;;;;;;;;;;;;;;;AAK7C"}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PHP/Wamp64/www/tulsiram_work/DWN/more/lara-react/my-frontend/src/app/papers/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"../utils/axios\";\r\nimport useAuth from \"../hooks/useAuth\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport Link from 'next/link';\r\nimport LogoutButton from \"../component/LogoutButton\";\r\n\r\n\r\nexport default function PapersList() {\r\n  const user = useAuth();\r\n  const [papers, setPapers] = useState([]);\r\n  const [loading, setLoding] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchPapers = async () => {\r\n      const token = localStorage.getItem(\"auth_token\"); // Get the token from local storage\r\n      try {\r\n        const response = await axios.get(\"/papers\", {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`, // Include the Bearer token\r\n          },\r\n        });\r\n        setPapers(response.data);\r\n        setLoding(false);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    fetchPapers();\r\n  }, []);\r\n\r\n  // Delete a paper by ID\r\n  const deletePaper = async (id) => {\r\n    const token = localStorage.getItem(\"auth_token\"); // Get the token from local storage\r\n    try {\r\n      await axios.delete(`/papers/${id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`, // Include the Bearer token\r\n        },\r\n      });\r\n      setPapers((prev) => prev.filter((paper) => paper.id !== id)); // Remove deleted paper from state\r\n    } catch (error) {\r\n      console.error(\"Error deleting paper:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container pt-4\">\r\n      <h1>Papers List</h1>\r\n      <Link href=\"/papers/submit\">Submit Paper</Link>\r\n\r\n      <LogoutButton></LogoutButton>\r\n\r\n      <hr />\r\n\r\n      {loading?(<p>loading..</p>):''}\r\n      {papers.length === 0 ? (\r\n        <p>No papers found</p>\r\n      ) : (\r\n        <table className=\"table table-striped\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">Title</th>\r\n              <th scope=\"col\">Gender</th>\r\n              <th scope=\"col\">Description</th>\r\n              <th scope=\"col\">Images</th>\r\n              <th scope=\"col\">PDF</th>\r\n              <th scope=\"col\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {papers.map((paper) => (\r\n              <tr key={paper.id}>\r\n                <td>{paper.title}</td>\r\n                <td>{paper.gender}</td>\r\n                <td>{paper.description}</td>\r\n\r\n                {/* Display Images */}\r\n                <td>\r\n                  {console.log(typeof(paper.images))}\r\n                  {paper.images && paper.images.length > 0 ? (\r\n                    paper.images.map((image, index) => (\r\n                      <img\r\n                        key={index}\r\n                        src={`http://localhost:8000/storage/${image}`} // Assuming public disk\r\n                        alt={`Paper Image ${index + 1}`}\r\n                        style={{ width: \"100px\", marginRight: \"10px\" }}\r\n                      />\r\n                    ))\r\n                  ) : (\r\n                    <p>No images</p>\r\n                  )}\r\n                </td>\r\n\r\n                {/* Link to Download PDF */}\r\n                <td>\r\n                  {paper.pdf ? (\r\n                    <a\r\n                      href={`http://localhost:8000/storage/${paper.pdf}`}\r\n                      download\r\n                    >\r\n                      Download PDF\r\n                    </a>\r\n                  ) : (\r\n                    <p>No PDF</p>\r\n                  )}\r\n                </td>\r\n\r\n                <td>\r\n                  {/* Delete button */}\r\n                  <button\r\n                    className=\"btn btn-danger\"\r\n                    onClick={() => deletePaper(paper.id)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 511, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}