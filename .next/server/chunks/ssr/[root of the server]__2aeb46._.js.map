{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PHP/Wamp64/www/tulsiram_work/DWN/more/lara-react/my-frontend/src/app/utils/axios.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: 'http://localhost:8000/api',\r\n    withCredentials: true,\r\n});\r\n\r\nexport default axiosInstance;\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,gBAAgB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC/B,SAAS;IACT,iBAAiB;AACrB;uCAEe"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PHP/Wamp64/www/tulsiram_work/DWN/more/lara-react/my-frontend/src/app/hooks/useAuth.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport axios from '../utils/axios';\r\n\r\nexport default function useAuth() {\r\n    const [user, setUser] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async () => {\r\n            const token = localStorage.getItem('auth_token');\r\n            if (!token) return;\r\n\r\n            try {\r\n                const response = await axios.get('/user', {\r\n                    headers: { Authorization: `Bearer ${token}` },\r\n                });\r\n                setUser(response.data);\r\n            } catch {\r\n                localStorage.removeItem('auth_token');\r\n            }\r\n        };\r\n\r\n        fetchUser();\r\n    }, []);\r\n\r\n    return user;\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEe,SAAS;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,YAAY;YACd,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,CAAC,OAAO;YAEZ,IAAI;gBACA,MAAM,WAAW,MAAM,4HAAA,CAAA,UAAK,CAAC,GAAG,CAAC,SAAS;oBACtC,SAAS;wBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;oBAAC;gBAChD;gBACA,QAAQ,SAAS,IAAI;YACzB,EAAE,OAAM;gBACJ,aAAa,UAAU,CAAC;YAC5B;QACJ;QAEA;IACJ,GAAG,EAAE;IAEL,OAAO;AACX"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PHP/Wamp64/www/tulsiram_work/DWN/more/lara-react/my-frontend/src/app/component/LogoutButton.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\"; // Import useRouter for redirecting\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nexport default function LogoutButton() {\r\n  const [isLoggingOut, setIsLoggingOut] = useState(false);\r\n  const router = useRouter();\r\n\r\n  // Logout function\r\n  const logout = () => {\r\n    // Set logging out state to true to disable button during logout process\r\n    setIsLoggingOut(true);\r\n\r\n    // Remove the token from localStorage\r\n    localStorage.removeItem(\"auth_token\");\r\n\r\n    // Optionally, clear any other user data (session, cookies, etc.)\r\n    // sessionStorage.removeItem(\"user_data\"); // Example if you're using sessionStorage\r\n\r\n    // Redirect user to the login or home page\r\n    router.push(\"/login\"); // Change to your login route or home page\r\n\r\n    setIsLoggingOut(false); // Reset logging out state if needed\r\n  };\r\n\r\n  return (\r\n    <div className=\"container pt-4\">\r\n      <div className=\"d-flex justify-content-end\">\r\n        {/* Button */}\r\n        <button\r\n          onClick={logout}\r\n          className=\"btn btn-danger\"\r\n          disabled={isLoggingOut} // Disable the button while logging out\r\n        >\r\n          {isLoggingOut ? \"Logging out...\" : \"Logout\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA,mOAA6C,mCAAmC;AAHhF;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,kBAAkB;IAClB,MAAM,SAAS;QACb,wEAAwE;QACxE,gBAAgB;QAEhB,qCAAqC;QACrC,aAAa,UAAU,CAAC;QAExB,iEAAiE;QACjE,oFAAoF;QAEpF,0CAA0C;QAC1C,OAAO,IAAI,CAAC,WAAW,0CAA0C;QAEjE,gBAAgB,QAAQ,oCAAoC;IAC9D;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBAEb,cAAA,8OAAC;gBACC,SAAS;gBACT,WAAU;gBACV,UAAU;0BAET,eAAe,mBAAmB;;;;;;;;;;;;;;;;AAK7C"}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PHP/Wamp64/www/tulsiram_work/DWN/more/lara-react/my-frontend/src/app/papers/submit/page.js"],"sourcesContent":["\"use client\"\r\n\r\nimport { useForm } from 'react-hook-form';\r\nimport axios from '../../utils/axios';\r\nimport useAuth from '../../hooks/useAuth';\r\nimport Link from 'next/link';\r\nimport { useEffect, useState } from \"react\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport LogoutButton from '@/app/component/LogoutButton';\r\n\r\nexport default function SubmitPaper() {\r\n    const { register, handleSubmit, setValue } = useForm();\r\n    const [error, setError] = useState(null); // State for error message\r\n    const [success, setSuccess] = useState(null); // State for error message\r\n    const [sending, setSending] = useState(false); // State for error message\r\n    const onSubmit = async (data) => {\r\n        setSending(true);\r\n        const formData = new FormData();\r\n        formData.append('title', data.title);\r\n        formData.append('gender', data.gender);\r\n        formData.append('description', data.description);\r\n\r\n        // Check if the images are present and append them\r\n        if (data.images && data.images.length) {\r\n            Array.from(data.images).forEach((image) => {\r\n                formData.append('images[]', image);\r\n            });\r\n        }\r\n\r\n        // Ensure the PDF file is present before appending\r\n        if (data.pdf && data.pdf.length) {\r\n            formData.append('pdf', data.pdf[0]); // Assuming a single PDF file is being uploaded\r\n        }\r\n\r\n        const token = localStorage.getItem('auth_token'); // Get the token from local storage\r\n\r\n        try {\r\n            await axios.post('/papers', formData, {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`, // Include the Bearer token\r\n                    'Content-Type': 'multipart/form-data',\r\n                },\r\n            });\r\n            // alert('Paper submitted successfully.');\r\n            setSending(false);\r\n            setSuccess('Paper submitted successfully.');\r\n        } catch (error) {\r\n            console.error(error);\r\n            setSending(false);\r\n            setError(\"Error fetching papers. Please try again later.\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='container pt-4'>\r\n            <h1>Submit Paper</h1>\r\n            <Link href=\"/papers\">All Papers</Link>\r\n\r\n            <LogoutButton></LogoutButton>\r\n            <hr />\r\n            {error && (\r\n                <div className=\"alert alert-danger\" role=\"alert\">\r\n                {error}\r\n                </div>\r\n            )}\r\n\r\n            {success && (\r\n                <div className=\"alert alert-success\" role=\"alert\">\r\n                {success}\r\n                </div>\r\n            )}\r\n\r\n            {sending?(\r\n                <h3 className='text-center'>Sending data ...</h3>\r\n            ) : '' }\r\n\r\n\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <div className='form-group'>\r\n                    <label>Title</label>\r\n                    <input className='form-control' {...register('title', { required: true })} />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label>Gender</label>\r\n                    <select className='form-control' {...register('gender', { required: true })}>\r\n                        <option value=\"male\">Male</option>\r\n                        <option value=\"female\">Female</option>\r\n                    </select>\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label>Description</label>\r\n                    <textarea className='form-control' {...register('description', { required: true })}></textarea>\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label>Images</label>\r\n                    <input className='form-control' type=\"file\" multiple {...register('images')} />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label>PDF</label>\r\n                    <input className='form-control' type=\"file\" {...register('pdf', { required: true })} />\r\n                </div>\r\n                <button className='mt-4 btn btn-primary' type=\"submit\" disabled={sending} >Submit</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 528, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}