{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PHP/Wamp64/www/tulsiram_work/DWN/more/lara-react/my-frontend/src/app/utils/axios.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst axiosInstance = axios.create({\r\n    baseURL: 'http://localhost:8000/api',\r\n    withCredentials: true,\r\n});\r\n\r\nexport default axiosInstance;\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,gBAAgB,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC/B,SAAS;IACT,iBAAiB;AACrB;uCAEe"}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PHP/Wamp64/www/tulsiram_work/DWN/more/lara-react/my-frontend/src/app/hooks/useAuth.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport axios from '../utils/axios';\r\n\r\nexport default function useAuth() {\r\n    const [user, setUser] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async () => {\r\n            const token = localStorage.getItem('auth_token');\r\n            if (!token) return;\r\n\r\n            try {\r\n                const response = await axios.get('/user', {\r\n                    headers: { Authorization: `Bearer ${token}` },\r\n                });\r\n                setUser(response.data);\r\n            } catch {\r\n                localStorage.removeItem('auth_token');\r\n            }\r\n        };\r\n\r\n        fetchUser();\r\n    }, []);\r\n\r\n    return user;\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;;AAEe,SAAS;;IACpB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEjC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;6BAAE;YACN,MAAM;+CAAY;oBACd,MAAM,QAAQ,aAAa,OAAO,CAAC;oBACnC,IAAI,CAAC,OAAO;oBAEZ,IAAI;wBACA,MAAM,WAAW,MAAM,+HAAA,CAAA,UAAK,CAAC,GAAG,CAAC,SAAS;4BACtC,SAAS;gCAAE,eAAe,CAAC,OAAO,EAAE,OAAO;4BAAC;wBAChD;wBACA,QAAQ,SAAS,IAAI;oBACzB,EAAE,OAAM;wBACJ,aAAa,UAAU,CAAC;oBAC5B;gBACJ;;YAEA;QACJ;4BAAG,EAAE;IAEL,OAAO;AACX;GAtBwB"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file://D%3A/PHP/Wamp64/www/tulsiram_work/DWN/more/lara-react/my-frontend/src/app/papers/submit/page.js"],"sourcesContent":["\"use client\"\r\n\r\nimport { useForm } from 'react-hook-form';\r\nimport axios from '../../utils/axios';\r\nimport useAuth from '../../hooks/useAuth';\r\nimport Link from 'next/link';\r\nimport { useEffect, useState } from \"react\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nexport default function SubmitPaper() {\r\n    const { register, handleSubmit, setValue } = useForm();\r\n    const [error, setError] = useState(null); // State for error message\r\n    const [success, setSuccess] = useState(null); // State for error message\r\n    const [sending, setSending] = useState(false); // State for error message\r\n    const onSubmit = async (data) => {\r\n        setSending(true);\r\n        const formData = new FormData();\r\n        formData.append('title', data.title);\r\n        formData.append('gender', data.gender);\r\n        formData.append('description', data.description);\r\n\r\n        // Check if the images are present and append them\r\n        if (data.images && data.images.length) {\r\n            Array.from(data.images).forEach((image) => {\r\n                formData.append('images[]', image);\r\n            });\r\n        }\r\n\r\n        // Ensure the PDF file is present before appending\r\n        if (data.pdf && data.pdf.length) {\r\n            formData.append('pdf', data.pdf[0]); // Assuming a single PDF file is being uploaded\r\n        }\r\n\r\n        const token = localStorage.getItem('auth_token'); // Get the token from local storage\r\n\r\n        try {\r\n            await axios.post('/papers', formData, {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`, // Include the Bearer token\r\n                    'Content-Type': 'multipart/form-data',\r\n                },\r\n            });\r\n            // alert('Paper submitted successfully.');\r\n            setSending(false);\r\n            setSuccess('Paper submitted successfully.');\r\n        } catch (error) {\r\n            console.error(error);\r\n            setSending(false);\r\n            setError(\"Error fetching papers. Please try again later.\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='container pt-4'>\r\n            <h1>Submit Paper</h1>\r\n            <Link href=\"/papers\">All Papers</Link>\r\n\r\n            {error && (\r\n                <div className=\"alert alert-danger\" role=\"alert\">\r\n                {error}\r\n                </div>\r\n            )}\r\n\r\n            {success && (\r\n                <div className=\"alert alert-success\" role=\"alert\">\r\n                {success}\r\n                </div>\r\n            )}\r\n\r\n            {sending?(\r\n                <h3 className='text-center'>Sending data ...</h3>\r\n            ) : '' }\r\n\r\n\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n                <div className='form-group'>\r\n                    <label>Title</label>\r\n                    <input className='form-control' {...register('title', { required: true })} />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label>Gender</label>\r\n                    <select className='form-control' {...register('gender', { required: true })}>\r\n                        <option value=\"male\">Male</option>\r\n                        <option value=\"female\">Female</option>\r\n                    </select>\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label>Description</label>\r\n                    <textarea className='form-control' {...register('description', { required: true })}></textarea>\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label>Images</label>\r\n                    <input className='form-control' type=\"file\" multiple {...register('images')} />\r\n                </div>\r\n                <div className='form-group'>\r\n                    <label>PDF</label>\r\n                    <input className='form-control' type=\"file\" {...register('pdf', { required: true })} />\r\n                </div>\r\n                <button className='mt-4 btn btn-primary' type=\"submit\" disabled={sending} >Submit</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 357, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}